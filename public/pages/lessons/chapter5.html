<!DOCTYPE html>
<html class ="MainHtml">
  <head>
    <meta charset="utf-8">
    <title>RoBooks</title>
    <link rel="stylesheet" href="../../style.css">
    <link rel="icon" href="../../images/LuaLogo.png">


  </head>
  <body class = "MainBody">
    <header>
      <a class = "logo" href=""><img class = "MainImage" src="../../images/LuaLogo.png" alt = "logo"></a>
      <nav class ="MainNavigation">
        <a class="navItem" href="../../../index.html"><b style="background-color: transparent;">Home</b></a>
        <a class="navItem" href="../../pages/lessons.html"><b style="background-color: transparent;">Lessons</b></a>
        <a class="navItem" href="../../pages/practice.html"><b style="background-color: transparent;">Practice</b></a>
        <div class="DarkModeBtn" id="DarkModeBtn">
          <div id="DarkModeBtnColor"></div>
        </div>
      </nav>
    </header>

    <div class="MainContainer" id="MainContainer" style="background-color: #ffffff; width: 80%; margin: auto; margin-top: 100px; height: 2000px; overflow: hidden; position: relative;">
      <ol class="LessonHolder">
        <a class="MainLessonItem" href="../lessons.html">
          <b style="background-color: transparent;">Chapter 1:</b> Variables, values and types
        </a>

        <a class="MainLessonItem" href="../lessons/chapter2.html">
          <b style="background-color: transparent;">Chapter 2:</b> Properties and Instances
        </a>

        <a class="MainLessonItem" href="../lessons/chapter3.html">
          <b style="background-color: transparent;">Chapter 3:</b> Conditionals and If Statements
        </a>

        <a class="MainLessonItem" href="../lessons/chapter4.html">
          <b style="background-color: transparent;">Chapter 4:</b>  Functions and Blocks
        </a>

        <a class="MainLessonItem1" href="../lessons/chapter5.html" style="background-color: whitesmoke;">
          <b style="background-color: transparent;">Chapter 5:</b>  Event Listeners
        </a>

        <a href="#5.1" class="SubLessonItem">
          5.1: Events
        </a>

        <a href="#5.2" class="SubLessonItem">
          5.2: Waiting for an Event
        </a>

        <a href="#5.3" class="SubLessonItem">
          5.3: Connect and Disconnect
        </a>

        
      </ol>


      <div class="LessonContainer">
        <div class="SectionTitle" id="5.1">5.1: Events</div>

        <p class="SectionParagraph">
          From Chapter 2, we know that Instances have properties. However, Instances also have <b style="background-color: transparent;">events</b>.
        </p>

        <p class="SectionParagraph">
          Events in programming, are similar to the general definition of Events. When something happens, an event sends out a signal, such as a player clicking their mouse. All Roblox games utilize these events to detect when to do something.
        </p>

        <div class="SectionTitle" id="5.2">5.2: Waiting for an Event</div>

        <p class="SectionParagraph">
          With events, we can ask our code to wait for an event to happen. For example, we can ask our code to wait for a player to click their mouse before doing something. To do this, we utilize the :Wait() function which yields our code until a specific event happens.
        </p> 

        <p class="SectionParagraph">
          Before we wait for the specific event we want to wait for, we need to find the event we want. The event for detecting user input is part of the UserInputService, which can be defined using :GetService(). The specific event for detecting user input is the <a href="https://developer.roblox.com/en-us/api-reference/event/UserInputService/InputBegan" style="color: turquoise; background-color: transparent; text-decoration: underline;" target="_blank">InputBegan</a> event.
        </p> 

        <p class="SectionParagraph">
          To wait for this event we would simply write,
        </p>

        <div class="CodeSample">
          <b class ="purplekeyword">local</b> UserInputService <b class="operator">=</b> game:<b class="functionkeyword">GetService</b>(<b class="string">"UserInputService"</b>) <b class="comment">--define UserInputService</b>
          <br>
          UserInputService.InputBegan:Wait() <b class="comment">--wait for user input to be detected</b>
        </div>

        <p class="SectionParagraph">
          We can refer to an event by using the "." accessor as shown above. Each event of an instance is listed on <a href="https://developer.roblox.com/en-us/api-reference" style="color: turquoise; background-color: transparent; text-decoration: underline;" target="_blank">developer.roblox.com</a>.
        </p>

        <div class="SectionTitle" id="5.3">5.3: Connect and Disconnect</div>

        <p class="SectionParagraph">
          Waiting for an event is great, but what if we wanted something to happen when a specific event happened?
        </p>

        <p class="SectionParagraph">
          This is where functions, that we previously learned come in. The <b style="background-color: transparent;">Connect()</b> function can be used to connect an event with a function. This will make it so a function is called each time an event is fired. Below are two examples where connect is used to connect a function so that every time a player uses input, a print statement prints.
        </p>

        <div class="CodeSample">
          <b class ="purplekeyword">local</b> UserInputService <b class="operator">=</b> game:<b class="functionkeyword">GetService</b>(<b class="string">"UserInputService"</b>) <b class="comment">--define UserInputService</b>
          <br>
          <br>
          <b class="comment">--OPTION #1: CREATING FUNCTION INSIDE OF CONNECT</b>
          <br>
          UserInputService.InputBegan:Connect(<b class="purplekeyword">function</b>() <b class="comment">--we create the function inside the connect function</b>
          <br>
          <b class ="purplekeyword" style="padding-left: 15px;">print</b>(<b class="string">"Player used input!"</b>) <b class="comment">--Print a statement every time a player uses input</b>
          <br>
          <b class ="purplekeyword">end</b>) <b class="comment">--parenthesis to close function declaration</b>
          <br>
          <br>
          <b class="comment">--OPTION #2: USING A PREVIOUSLY CREATED FUNCTION</b>
          <br>
          UserInputService.InputBegan:Connect(<b class="functionkeyword">printStatement</b>) <b class="comment">--The printStatement function was created previously</b>
        </div>

        <p class="SectionParagraph">
          To be continued...
        </p> 

      

        <a class="NextChapter" href="../lessons/chapter5.html">Coming Soon</a>
      </div>
    </div>


    <script>

      let HoverColor = "#000000"
      let HoverBackgroundColor = "whitesmoke"

      function OnResized() {
        let MainContainer = document.getElementById("MainContainer")

        if (MainContainer.clientWidth < 1308) {
          MainContainer.style.height = ((Math.abs(1308 - MainContainer.clientWidth)/868 + 1)*2500) + "px"
        } else {
          MainContainer.style.height = 2500 + "px"
        }
      }

      function ToggleDarkMode() {
      const zeroItems = ["MainNavigation", "MainImage", "navItem", "logo"]
      const oneItems = ["MainContainer", "RoBooksLogo","MainBody", "Title","MainHtml","BoldTitle", "shape-fill"]
      const twoItems = ["BottomShaped", "LessonContainer", "LessonHolder", "MainLessonItem"]
      const threeItems = ["TextBox", "CurvedBoxContainer", "SubLessonItem"]

      if (document.getElementsByClassName("MainNavigation")[0].classList.contains("DarkMode-0")) {
        localStorage.setItem('dark', false);
        document.getElementById("DarkModeBtnColor").style.backgroundColor = "aliceblue"
        document.getElementsByClassName("NextChapter")[0].style.color = "blue"
        document.getElementsByClassName("MainLessonItem1")[0].style.backgroundColor = "whitesmoke"
        document.getElementsByClassName("MainLessonItem1")[0].style.color = "#000000"
        HoverColor = "#000000"
        HoverBackgroundColor = "whitesmoke"

        let MainLessonItems = document.getElementsByClassName("MainLessonItem")

        for (k = 0; k < MainLessonItems.length; ++k) {
          MainLessonItems[k].style.backgroundColor = "#ffffff"
        }
      } else {
        localStorage.setItem('dark', true);
        document.getElementById("DarkModeBtnColor").style.backgroundColor = "#191919"
        document.getElementsByClassName("NextChapter")[0].style.color = "#dcddde"
        document.getElementsByClassName("MainLessonItem1")[0].style.backgroundColor = "#4d4d4d"
        document.getElementsByClassName("MainLessonItem1")[0].style.color = "#dcddde"
        HoverColor = "#dcddde"
        HoverBackgroundColor = "#4d4d4d"

        let MainLessonItems = document.getElementsByClassName("MainLessonItem")

        for (k = 0; k < MainLessonItems.length; ++k) {
          MainLessonItems[k].style.backgroundColor = "#333333"
        }
      }

      for (i = 0; i < zeroItems.length; ++i) {
        let items = document.getElementsByClassName(zeroItems[i])

        for (g = 0; g < items.length; ++g) {
          items[g].classList.toggle("DarkMode-0")
        }
      }

      for (r = 0; r < oneItems.length; ++r) {
        let items = document.getElementsByClassName(oneItems[r])

        for (q = 0; q < items.length; ++q) {
          items[q].classList.toggle("DarkMode-1")
        }
      }

      for (n = 0; n < twoItems.length; ++n) {
        let items = document.getElementsByClassName(twoItems[n])

        for (h = 0; h < items.length; ++h) {
          items[h].classList.toggle("DarkMode-2")
        }
      }

      for (n = 0; n < threeItems.length; ++n) {
        let items = document.getElementsByClassName(threeItems[n])

        for (h = 0; h < items.length; ++h) {
          items[h].classList.toggle("DarkMode-3")
        }
      }
    }

    if(!localStorage.getItem('dark')) {
      localStorage.setItem('dark', false);
    } else {
      if (localStorage.getItem('dark') == "true") {
        ToggleDarkMode()
      }
    }


    let navItems = document.getElementsByClassName("navItem")

    for (let z = 0; z < navItems.length; ++z) {
      navItems[z].addEventListener("mouseenter", function(){
        navItems[z].style.borderBottom = "3px solid " + HoverColor;
      })

      navItems[z].addEventListener("mouseleave", function(){
        navItems[z].style.borderBottom = "";
      })
    }

    let MainLessonItems = document.getElementsByClassName("MainLessonItem")

    for (let z = 0; z < MainLessonItems.length; ++z) {
      MainLessonItems[z].addEventListener("mouseenter", function(){
        MainLessonItems[z].style.backgroundColor = HoverBackgroundColor
      })

      MainLessonItems[z].addEventListener("mouseleave", function(){
        if (HoverBackgroundColor == "whitesmoke") {
          MainLessonItems[z].style.backgroundColor = "#ffffff"
        } else {
          MainLessonItems[z].style.backgroundColor = "#333333"
        }
      })
    }

    document.getElementById("DarkModeBtn").addEventListener("click", function(){
      ToggleDarkMode()
    })

      window.onresize = OnResized;

      OnResized()
    </script>
  </body>
</html>